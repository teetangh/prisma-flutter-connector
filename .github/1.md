 Ready to code?

 Here is Claude's plan:
╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌
 Fix GitHub Actions Workflows & Add Local Test Runner

 Part 1: Fix Critical Issues in Existing Workflow

 1. Fix Supabase secrets check (line 290-292)
   - Remove the invalid secrets.VARIABLE != '' syntax
   - Use proper condition: github.event_name == 'push' && 
 vars.ENABLE_SUPABASE_TESTS == 'true'
   - Or simply check if secrets exist when used
 2. Fix Prisma migration commands across all database jobs
   - Replace prisma migrate dev --skip-generate → prisma migrate deploy
   - For MongoDB: Keep prisma db push but add --accept-data-loss flag
   - Add proper error handling
 3. Add environment variables for database connections
   - Set DATABASE_URL env vars properly in each workflow
   - Use env: section in workflow steps

 Part 2: Modularize Workflows (Split into Separate Files)

 Create individual workflow files:

 1. .github/workflows/unit-tests.yml - Unit tests only
 2. .github/workflows/postgres-integration.yml - PostgreSQL tests
 3. .github/workflows/mysql-integration.yml - MySQL tests
 4. .github/workflows/mongodb-integration.yml - MongoDB tests
 5. .github/workflows/sqlite-integration.yml - SQLite tests
 6. .github/workflows/supabase-integration.yml - Supabase tests (conditional)
 7. .github/workflows/lint.yml - Code quality checks
 8. .github/workflows/ci.yml - Master workflow that calls all others using
 workflow_call

 Benefits:
 - Run individual database tests independently
 - Easier to debug failures
 - Better CI dashboard organization
 - Can trigger specific tests manually

 Part 3: Create Local Test Infrastructure

 1. Create Makefile with targets:
 test-all         # Run all tests (unit + all integrations)
 test-unit        # Run unit tests only
 test-postgres    # Run PostgreSQL integration tests
 test-mysql       # Run MySQL integration tests
 test-mongodb     # Run MongoDB integration tests
 test-sqlite      # Run SQLite integration tests
 test-supabase    # Run Supabase tests (requires .env)
 test-integration # Run all integration tests
 setup-postgres   # Start PostgreSQL container + migrate
 setup-mysql      # Start MySQL container + migrate
 setup-mongodb    # Start MongoDB container + push schema
 cleanup-all      # Stop all containers
 2. Create scripts/test-runner.sh - Bash script for running complete test suite
   - Starts all Docker containers
   - Runs migrations for each database
   - Executes tests
   - Cleanup on exit (trap)
 3. Create scripts/test-database.sh - Reusable script for individual database
 tests
   - Takes database name as parameter
   - Handles setup → test → cleanup

 Part 4: Update Documentation

 1. Update test/README.md with:
   - Makefile usage instructions
   - Local testing workflow
   - CI/CD architecture explanation
 2. Update .github/CONTRIBUTING.md with:
   - How to run tests locally using Makefile
   - How to run specific database tests
   - How workflows are organized
 3. Update main README.md Testing section with Makefile examples

 Files to Create/Modify:

 Create:
 - .github/workflows/unit-tests.yml
 - .github/workflows/postgres-integration.yml
 - .github/workflows/mysql-integration.yml
 - .github/workflows/mongodb-integration.yml
 - .github/workflows/sqlite-integration.yml
 - .github/workflows/supabase-integration.yml
 - .github/workflows/lint.yml
 - .github/workflows/ci.yml
 - Makefile
 - scripts/test-runner.sh
 - scripts/test-database.sh

 Modify:
 - Remove .github/workflows/test.yml (replaced by modular workflows)
 - Update test/README.md
 - Update .github/CONTRIBUTING.md
 - Update main README.md

 Note: Backend GraphQL servers are still not included (tests are currently
 templates). Will document that backend setup is a prerequisite for running
 integration tests.
╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌

 Would you like to proceed?

 ❯ 1. Yes, and auto-accept edits
   2. Yes, and manually approve edits
   3. No, keep planning